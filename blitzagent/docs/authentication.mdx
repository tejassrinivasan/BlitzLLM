---
title: "Authentication & Configuration"
description: "Complete guide to securing and configuring Blitz API access"
---

This guide covers authentication methods and best practices for accessing the Blitz API.

## API Key Authentication

All Blitz API endpoints require authentication using Bearer tokens. You'll need your Blitz API key to make requests.

### Get Your API Key

<Steps>
  <Step title="Create Account">
    Sign up for a Blitz account to get access to the sports analysis API.
  </Step>
  
  <Step title="Access Dashboard">
    Navigate to your account dashboard after logging in.
  </Step>
  
  <Step title="Generate API Key">
    Find the API Keys section and generate your unique Blitz API key.
  </Step>
  
  <Step title="Secure Storage">
    Store your API key securely - never expose it in client-side code or public repositories.
  </Step>
</Steps>

### Using Your API Key

Include your Blitz API key in the `Authorization` header of all requests:

<CodeGroup>
```bash cURL
curl -X POST "https://api.blitz.com/analyze" \
  -H "Authorization: Bearer YOUR_BLITZ_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"query": "What are LeBron'\''s stats this season?"}'
```

```python Python
import httpx

headers = {
    "Authorization": "Bearer YOUR_BLITZ_API_KEY",
    "Content-Type": "application/json"
}

async with httpx.AsyncClient() as client:
    response = await client.post(
        "https://api.blitz.com/analyze",
        headers=headers,
        json={"query": "What are LeBron's stats this season?"}
    )
    result = response.json()
```

```javascript JavaScript
const headers = {
    'Authorization': 'Bearer YOUR_BLITZ_API_KEY',
    'Content-Type': 'application/json'
};

const response = await fetch('https://api.blitz.com/analyze', {
    method: 'POST',
    headers: headers,
    body: JSON.stringify({
        query: "What are LeBron's stats this season?"
    })
});

const result = await response.json();
```
</CodeGroup>

## Authentication Validation

Test your API key with a simple health check:

<CodeGroup>
```bash Test API Key
curl -X GET "https://api.blitz.com/health" \
  -H "Authorization: Bearer YOUR_BLITZ_API_KEY"
```

```python Python Test
import httpx
import asyncio

async def test_api_key():
    headers = {"Authorization": "Bearer YOUR_BLITZ_API_KEY"}
    
    async with httpx.AsyncClient() as client:
        response = await client.get(
            "https://api.blitz.com/health",
            headers=headers
        )
        
        if response.status_code == 200:
            print("✅ API key is valid!")
            print(response.json())
        else:
            print(f"❌ Authentication failed: {response.status_code}")
            print(response.text)

asyncio.run(test_api_key())
```
</CodeGroup>

## Security Best Practices

<AccordionGroup>
  <Accordion icon="key" title="API Key Management">
    **Secure Storage**:
    - Store API keys as environment variables
    - Never commit keys to version control
    - Use different keys for different environments
    
    **Environment Variables**:
    ```bash
    # Set environment variable
    export BLITZ_API_KEY="your_blitz_api_key_here"
    
    # Use in your application
    import os
    api_key = os.getenv('BLITZ_API_KEY')
    ```
    
    **Rotation**:
    - Rotate API keys regularly (monthly/quarterly)
    - Implement key versioning for smooth transitions
    - Monitor for unauthorized usage
  </Accordion>
  
  <Accordion icon="shield" title="Request Security">
    **HTTPS Only**:
    - Always use HTTPS endpoints (`https://api.blitz.com`)
    - Never send API keys over unencrypted connections
    
    **Header Security**:
    - Use proper `Authorization: Bearer` format
    - Include `Content-Type: application/json` for POST requests
    - Validate responses before processing
    
    **Error Handling**:
    ```python
    async def secure_request(query):
        headers = {"Authorization": f"Bearer {api_key}"}
        
        try:
            async with httpx.AsyncClient() as client:
                response = await client.post(
                    "https://api.blitz.com/analyze",
                    headers=headers,
                    json={"query": query},
                    timeout=30.0
                )
                response.raise_for_status()
                return response.json()
                
        except httpx.HTTPStatusError as e:
            if e.response.status_code == 401:
                raise ValueError("Invalid API key")
            elif e.response.status_code == 429:
                raise ValueError("Rate limit exceeded")
            else:
                raise ValueError(f"API error: {e.response.status_code}")
        except httpx.TimeoutException:
            raise ValueError("Request timeout")
    ```
  </Accordion>
  
  <Accordion icon="monitor" title="Usage Monitoring">
    **Track Usage**:
    - Monitor your API usage through the dashboard
    - Set up alerts for unusual activity
    - Review usage patterns regularly
    
    **Rate Limiting**:
    - Implement client-side rate limiting
    - Handle 429 responses gracefully
    - Use exponential backoff for retries
    
    **Logging**:
    ```python
    import logging
    
    # Set up API request logging
    logger = logging.getLogger(__name__)
    
    async def logged_request(query):
        logger.info(f"Making API request: {query[:50]}...")
        
        try:
            result = await api_request(query)
            logger.info(f"Request successful, tokens used: {result.get('usage', {}).get('total_tokens', 'unknown')}")
            return result
        except Exception as e:
            logger.error(f"Request failed: {str(e)}")
            raise
    ```
  </Accordion>
</AccordionGroup>

## Rate Limits & Quotas

<AccordionGroup>
  <Accordion icon="zap" title="Current Limits">
    **Default Rate Limits**:
    - **Requests**: 100 per minute per API key
    - **Concurrent**: 10 simultaneous requests
    - **Monthly**: Based on your subscription plan
    
    **Rate Limit Headers**:
    All responses include rate limit information:
    ```
    X-RateLimit-Limit: 100
    X-RateLimit-Remaining: 95
    X-RateLimit-Reset: 1640995200
    ```
  </Accordion>
  
  <Accordion icon="chart-line" title="Handling Rate Limits">
    **Best Practices**:
    - Check rate limit headers in responses
    - Implement exponential backoff for 429 errors
    - Cache results to reduce API calls
    - Batch related queries when possible
    
    **Example Rate Limit Handler**:
    ```python
    import time
    import asyncio
    
    async def rate_limited_request(query, max_retries=3):
        for attempt in range(max_retries):
            try:
                response = await make_request(query)
                return response
                
            except httpx.HTTPStatusError as e:
                if e.response.status_code == 429:
                    # Check rate limit reset time
                    reset_time = int(e.response.headers.get('X-RateLimit-Reset', 0))
                    wait_time = max(reset_time - time.time(), 1)
                    
                    if attempt < max_retries - 1:
                        logger.warning(f"Rate limited, waiting {wait_time}s before retry {attempt + 1}")
                        await asyncio.sleep(wait_time)
                        continue
                        
                raise e
    ```
  </Accordion>
</AccordionGroup>

## Error Handling

<AccordionGroup>
  <Accordion icon="exclamation-triangle" title="Common Error Codes">
    **401 Unauthorized**:
    - Invalid or missing API key
    - Expired API key
    - Incorrect authorization header format
    
    **429 Too Many Requests**:
    - Rate limit exceeded
    - Too many concurrent requests
    - Check rate limit headers for reset time
    
    **400 Bad Request**:
    - Invalid request format
    - Missing required fields
    - Malformed JSON
    
    **503 Service Unavailable**:
    - Temporary service outage
    - Maintenance in progress
    - Retry with exponential backoff
  </Accordion>
  
  <Accordion icon="code" title="Error Response Format">
    All error responses follow this format:
    
    ```json Error Response
    {
      "detail": "Descriptive error message",
      "error_code": "SPECIFIC_ERROR_CODE",
      "request_id": "req_1234567890"
    }
    ```
    
    **Example Error Handling**:
    ```python
    async def handle_api_response(response):
        if response.status_code == 200:
            return response.json()
        
        error_data = response.json()
        error_message = error_data.get('detail', 'Unknown error')
        request_id = error_data.get('request_id', 'N/A')
        
        if response.status_code == 401:
            raise AuthenticationError(f"Authentication failed: {error_message}")
        elif response.status_code == 429:
            raise RateLimitError(f"Rate limit exceeded: {error_message}")
        elif response.status_code == 400:
            raise ValidationError(f"Invalid request: {error_message}")
        else:
            raise APIError(f"API error ({response.status_code}): {error_message} (Request ID: {request_id})")
    ```
  </Accordion>
</AccordionGroup>

## SDK Examples

Here are production-ready client implementations:

<CodeGroup>
```python Production Python Client
import os
import httpx
import asyncio
import logging
from typing import Optional, Dict, Any
from dataclasses import dataclass

@dataclass
class BlitzResponse:
    response: str
    usage: Dict[str, int]
    request_id: str

class BlitzClient:
    def __init__(self, api_key: Optional[str] = None, base_url: str = "https://api.blitz.com"):
        self.api_key = api_key or os.getenv('BLITZ_API_KEY')
        if not self.api_key:
            raise ValueError("API key is required. Set BLITZ_API_KEY environment variable or pass api_key parameter.")
        
        self.base_url = base_url
        self.headers = {
            "Authorization": f"Bearer {self.api_key}",
            "Content-Type": "application/json"
        }
        self.logger = logging.getLogger(__name__)
    
    async def analyze(self, query: str, extra_context: Optional[str] = None) -> BlitzResponse:
        """Analyze a sports query and return structured response"""
        payload = {"query": query}
        if extra_context:
            payload["extra_context"] = extra_context
        
        async with httpx.AsyncClient(timeout=30.0) as client:
            try:
                response = await client.post(
                    f"{self.base_url}/analyze",
                    headers=self.headers,
                    json=payload
                )
                response.raise_for_status()
                
                data = response.json()
                return BlitzResponse(
                    response=data["response"],
                    usage=data.get("usage", {}),
                    request_id=response.headers.get("X-Request-ID", "")
                )
                
            except httpx.HTTPStatusError as e:
                self.logger.error(f"HTTP error {e.response.status_code}: {e.response.text}")
                raise
            except httpx.TimeoutException:
                self.logger.error("Request timeout")
                raise

# Usage
async def main():
    client = BlitzClient()  # Uses BLITZ_API_KEY environment variable
    
    try:
        result = await client.analyze(
            "What are LeBron James' stats this season?",
            "Include advanced metrics and recent performance trends"
        )
        
        print(f"Analysis: {result.response}")
        print(f"Tokens used: {result.usage.get('total_tokens', 0)}")
        
    except Exception as e:
        print(f"Error: {e}")

if __name__ == "__main__":
    asyncio.run(main())
```

```javascript Production Node.js Client
const axios = require('axios');

class BlitzClient {
    constructor(apiKey = process.env.BLITZ_API_KEY, baseUrl = 'https://api.blitz.com') {
        if (!apiKey) {
            throw new Error('API key is required. Set BLITZ_API_KEY environment variable or pass apiKey parameter.');
        }
        
        this.apiKey = apiKey;
        this.baseUrl = baseUrl;
        this.client = axios.create({
            baseURL: baseUrl,
            headers: {
                'Authorization': `Bearer ${apiKey}`,
                'Content-Type': 'application/json'
            },
            timeout: 30000
        });
        
        // Add response interceptor for error handling
        this.client.interceptors.response.use(
            response => response,
            error => {
                if (error.response) {
                    const { status, data } = error.response;
                    const message = data.detail || 'Unknown error';
                    
                    switch (status) {
                        case 401:
                            throw new Error(`Authentication failed: ${message}`);
                        case 429:
                            throw new Error(`Rate limit exceeded: ${message}`);
                        case 400:
                            throw new Error(`Invalid request: ${message}`);
                        default:
                            throw new Error(`API error (${status}): ${message}`);
                    }
                } else if (error.request) {
                    throw new Error('Network error: No response received');
                } else {
                    throw new Error(`Request error: ${error.message}`);
                }
            }
        );
    }
    
    async analyze(query, extraContext = null) {
        const payload = { query };
        if (extraContext) {
            payload.extra_context = extraContext;
        }
        
        try {
            const response = await this.client.post('/analyze', payload);
            
            return {
                response: response.data.response,
                usage: response.data.usage || {},
                requestId: response.headers['x-request-id'] || ''
            };
        } catch (error) {
            console.error('Blitz API error:', error.message);
            throw error;
        }
    }
    
    async health() {
        try {
            const response = await this.client.get('/health');
            return response.data;
        } catch (error) {
            console.error('Health check failed:', error.message);
            throw error;
        }
    }
}

// Usage
async function main() {
    const client = new BlitzClient(); // Uses BLITZ_API_KEY environment variable
    
    try {
        // Test connection
        await client.health();
        console.log('✅ Connected to Blitz API');
        
        // Analyze sports query
        const result = await client.analyze(
            "What are LeBron James' stats this season?",
            "Include advanced metrics and recent performance trends"
        );
        
        console.log('Analysis:', result.response);
        console.log('Tokens used:', result.usage.total_tokens || 0);
        
    } catch (error) {
        console.error('❌ Error:', error.message);
    }
}

if (require.main === module) {
    main();
}

module.exports = BlitzClient;
```
</CodeGroup>

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Quickstart Guide"
    icon="rocket"
    href="/quickstart"
  >
    Get started with your first API call
  </Card>
  
  <Card
    title="API Reference"
    icon="code"
    href="/api-reference/introduction"
  >
    Complete API documentation with interactive examples
  </Card>
  
  <Card
    title="Examples"
    icon="lightbulb"
    href="/examples"
  >
    Real-world usage examples and integration patterns
  </Card>
  
  <Card
    title="Troubleshooting"
    icon="wrench"
    href="/troubleshooting"
  >
    Common issues and solutions
  </Card>
</CardGroup>